let yk_mt_chart_font=yk_mt_chart.chartFont,yk_mt_chart_color=yk_mt_chart.chartColor;var yk_mt_chart_config=!1,yk_mt_ctx=!1,yk_mt_chart=!1,yk_mt_chart_is_admin="undefined"!=typeof yk_mt_sc_meal_tracker&&"1"===yk_mt_sc_meal_tracker["is-admin"];function yk_mt_chart_data_set(a,b,c,d,e){yk_mt_chart_config={calories_allowed:a,calories_remaining:b,calories_used:c,percentage_used:d,chart_title:e}}function yk_mt_chart_render(){yk_mt_ctx&&yk_mt_chart?(yk_mt_chart.data=yk_mt_chart_data(),yk_mt_chart.options=yk_mt_chart_options(),yk_mt_chart.update()):(yk_mt_ctx=jQuery("#yk-mt-chart"),yk_mt_chart=new Chart(yk_mt_ctx,{type:"doughnut",data:yk_mt_chart_data(),options:yk_mt_chart_options(),plugins:[{beforeDraw:function(a){if(a.config.options.elements.center){let i=a.config.options.elements.center;if(!1===a.config.options.elements.center.display)return;let j=a.ctx,k=i.fontStyle||"Arial",l=i.text,m=i.color||"#000",n=i.sidePadding||20,o=n/100*(2*a.innerRadius),p=jQuery(window).width(),q=30;460>p?q=15:540>p&&(q=20),j.font=q+"px "+k;var b=j.measureText(l).width,c=2*a.innerRadius-o,d=Math.floor(30*(c/b)),e=2*a.innerRadius,f=Math.min(d,e);j.textAlign="center",j.textBaseline="middle";var g=(a.chartArea.left+a.chartArea.right)/2,h=(a.chartArea.top+a.chartArea.bottom)/2;j.font=f+"px "+k,j.fillStyle=m,j.fillText(l,g,h)}}}]}))}function yk_mt_chart_data(){return{datasets:[{data:[yk_mt_chart_config.calories_used,yk_mt_chart_config.calories_remaining],backgroundColor:[yk_mt_chart_color,"#e5e5e5"],borderWidth:0}],labels:[yk_mt_chart_config.calories_used+" "+yk_mt_sc_meal_tracker.localise["chart-label-used"],yk_mt_chart_config.calories_remaining+" "+yk_mt_sc_meal_tracker.localise["chart-label-remaining"]]}}function yk_mt_chart_options(){let a={cutout:"doughnut"===yk_mt_ctx.attr("data-chart-type")?"85%":"0%",elements:{center:{display:"doughnut"===yk_mt_ctx.attr("data-chart-type"),text:yk_mt_chart_config.percentage_used+"%",color:yk_mt_chart_color,fontStyle:yk_mt_chart_font,sidePadding:125}},plugins:{title:{display:!yk_mt_chart_is_admin&&"1"!==yk_mt_ctx.attr("data-hide-title"),font:{color:"#000000",family:yk_mt_chart_font,size:16,weight:"normal"},padding:20,text:yk_mt_chart_config.chart_title},legend:{display:!yk_mt_chart_is_admin&&"1"!==yk_mt_ctx.attr("data-hide-legend"),position:"right",labels:{font:{color:"#000000",family:yk_mt_chart_font,size:14,weight:"normal"}}}}};return"1"===yk_mt_ctx.attr("data-responsive")&&(a.responsive=!0,a.maintainAspectRatio=!1),a}jQuery(document).ready(function(a){a(".yk-mt-line-chart").each(function(){let b=a(this).attr("id"),c=a("#"+b),d=window[b+"_data"],e=new Chart(c,{type:d.type,data:{labels:d.labels,datasets:d.data},options:d.options})})});
