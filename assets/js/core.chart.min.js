let yk_mt_chart_font=yk_mt_chart.chartFont,yk_mt_chart_color=yk_mt_chart.chartColor;var yk_mt_chart_config=!1,yk_mt_ctx=!1,yk_mt_chart=!1,yk_mt_chart_is_admin="undefined"!=typeof yk_mt_sc_meal_tracker&&"1"===yk_mt_sc_meal_tracker["is-admin"];function yk_mt_chart_data_set(t,a,_,e,r){yk_mt_chart_config={calories_allowed:t,calories_remaining:a,calories_used:_,percentage_used:e,chart_title:r}}function yk_mt_chart_render(){yk_mt_ctx&&yk_mt_chart?(yk_mt_chart.data=yk_mt_chart_data(),yk_mt_chart.options=yk_mt_chart_options(),yk_mt_chart.update()):(yk_mt_ctx=jQuery("#yk-mt-chart"),yk_mt_chart=new Chart(yk_mt_ctx,{type:"doughnut",data:yk_mt_chart_data(),options:yk_mt_chart_options()}))}function yk_mt_chart_data(){return{datasets:[{data:[yk_mt_chart_config.calories_used,yk_mt_chart_config.calories_remaining],backgroundColor:[yk_mt_chart_color,"#e5e5e5"],borderWidth:0}],labels:[yk_mt_chart_config.calories_used+" "+yk_mt_sc_meal_tracker.localise["chart-label-used"],yk_mt_chart_config.calories_remaining+" "+yk_mt_sc_meal_tracker.localise["chart-label-remaining"]]}}function yk_mt_chart_options(){let t={cutoutPercentage:88,title:{display:!yk_mt_chart_is_admin,fontFamily:yk_mt_chart_font,fontSize:16,fontStyle:"normal",padding:20,text:yk_mt_chart_config.chart_title,fontColor:"#000000"},legend:{display:!yk_mt_chart_is_admin,position:"right",labels:{fontFamily:yk_mt_chart_font,fontSize:16,boxWidth:16,fontColor:"#000000"}}};return!1===yk_mt_chart_is_admin&&(t.elements={center:{text:yk_mt_chart_config.percentage_used+"%",color:yk_mt_chart_color,fontStyle:yk_mt_chart_font,sidePadding:125}}),t}Chart.pluginService.register({beforeDraw:function(t){if(t.config.options.elements.center){var a=t.chart.ctx,_=t.config.options.elements.center,e=_.fontStyle||"Arial",r=_.text,c=_.color||"#000",n=(_.sidePadding||20)/100*(2*t.innerRadius);let d=jQuery(window).width(),k=30;d<460?k=15:d<540&&(k=20),a.font=k+"px "+e;var i=a.measureText(r).width,o=(2*t.innerRadius-n)/i,l=Math.floor(30*o),m=2*t.innerRadius,h=Math.min(l,m);a.textAlign="center",a.textBaseline="middle";var y=(t.chartArea.left+t.chartArea.right)/2,s=(t.chartArea.top+t.chartArea.bottom)/2;a.font=h+"px "+e,a.fillStyle=c,a.fillText(r,y,s)}}}),jQuery(document).ready(function(t){t(".yk-mt-line-chart").each(function(a){let _=t(this).attr("id"),e=t("#"+_),r=window[_+"_data"];new Chart(e,{type:r.type,data:{labels:r.labels,datasets:r.data},options:r.options})})});
