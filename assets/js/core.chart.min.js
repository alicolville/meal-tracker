var yk_mt_chart_config=!1,yk_mt_ctx=!1,yk_mt_chart=!1,yk_mt_chart_is_admin="undefined"!=typeof yk_mt_sc_meal_tracker&&"1"===yk_mt_sc_meal_tracker["is-admin"];Chart.pluginService.register({beforeDraw:function(a){if(a.config.options.elements.center){var b=a.chart.ctx,c=a.config.options.elements.center,d=c.fontStyle||"Arial",e=c.text,f=c.color||"#000",g=c.sidePadding||20,h=g/100*(2*a.innerRadius);let p=jQuery(window).width(),q=30;460>p?q=15:540>p&&(q=20),b.font=q+"px "+d;var i=b.measureText(e).width,j=2*a.innerRadius-h,k=Math.floor(30*(j/i)),l=2*a.innerRadius,m=Math.min(k,l);b.textAlign="center",b.textBaseline="middle";var n=(a.chartArea.left+a.chartArea.right)/2,o=(a.chartArea.top+a.chartArea.bottom)/2;b.font=m+"px "+d,b.fillStyle=f,b.fillText(e,n,o)}}});function yk_mt_chart_data_set(a,b,c,d,e){yk_mt_chart_config={calories_allowed:a,calories_remaining:b,calories_used:c,percentage_used:d,chart_title:e}}function yk_mt_chart_render(){yk_mt_ctx&&yk_mt_chart?(yk_mt_chart.data=yk_mt_chart_data(),yk_mt_chart.options=yk_mt_chart_options(),yk_mt_chart.update()):(yk_mt_ctx=jQuery("#yk-mt-chart"),yk_mt_chart=new Chart(yk_mt_ctx,{type:"doughnut",data:yk_mt_chart_data(),options:yk_mt_chart_options()}))}function yk_mt_chart_data(){return{datasets:[{data:[yk_mt_chart_config.calories_used,yk_mt_chart_config.calories_remaining],backgroundColor:["rgb(255, 99, 132)","rgb(228,228,228)"],borderWidth:1}],labels:[yk_mt_chart_config.calories_used+" "+yk_mt_sc_meal_tracker.localise["chart-label-used"],yk_mt_chart_config.calories_remaining+" "+yk_mt_sc_meal_tracker.localise["chart-label-remaining"]]}}function yk_mt_chart_options(){let a={cutoutPercentage:70,title:{display:!yk_mt_chart_is_admin,fontSize:15,fontStyle:"normal",padding:20,text:yk_mt_chart_config.chart_title},legend:{display:!yk_mt_chart_is_admin,position:"right",labels:{fontSize:17,boxWidth:20}}};return!1===yk_mt_chart_is_admin&&(a.elements={center:{text:yk_mt_chart_config.percentage_used+"%",color:"rgb(255, 99, 132)",fontStyle:"Helvetica",sidePadding:125}}),a}jQuery(document).ready(function(a){a(".yk-mt-line-chart").each(function(){let b=a(this).attr("id"),c=a("#"+b),d=window[b+"_data"],e=new Chart(c,{type:d.type,data:{labels:d.labels,datasets:d.data},options:d.options})})});